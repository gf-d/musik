var InitMaps={satellite:function(){map=new GMaps({div:".map-hero",scrollwheel:!1,zoom:15,lat:parseFloat(project.lat),lng:parseFloat(project.long),mapType:"SATELLITE"}),map.addMarker({lat:parseFloat(project.lat),lng:parseFloat(project.long),title:project.location})},global:function(){map=new GMaps({div:".map-hero",scrollwheel:!1,zoom:3,lat:25.464283,lng:.8129347})},plantingSite:function(){google.maps.Polygon.prototype.getBounds||(google.maps.Polygon.prototype.getBounds=function(){var a=new google.maps.LatLngBounds;return this.getPath().forEach((function(t,e){a.extend(t)})),a}),map=new GMaps({div:".map-hero",scrollwheel:!1,zoom:15,lat:project.lat,lng:project.long,mapType:"SATELLITE"});var a=project_site.polygon_data?JSON.parse(project_site.polygon_data):[];a.length>0?(polygon=map.drawPolygon({paths:a,strokeColor:"#49bc6b",strokeOpacity:1,strokeWeight:3,fillColor:"#fff",fillOpacity:.15}),map.fitBounds(polygon.getBounds())):map.addMarker({lat:parseFloat(project.lat),lng:parseFloat(project.long),title:project.location})},projectList:function(){var a;a=new GMaps({div:".map-hero",scrollwheel:!1,zoom:2,lat:25.464283,lng:.8129347,minZoom:2});var t=[];_.each(map_projects,(function(a){if(null!=a.lat&&null!=a.long){if("affiliated"==a.status)var e="/images/icons/map-marker-2.svg";else e="/images/icons/map-marker-1.svg";for(var s="",r=0;r<5;r++){var l=r<5-a.rating&&r+.5>5-a.rating;s+='<span class="fas fa-star star '+(r>=5-a.rating||l?"active":"")+" "+(l?"fa-star-half-alt":"")+'">'}var o="#",n="100x100";a.image&&("/"!=a.image.slice(0,1)&&"\\"!=a.image.slice(0,1)||(o="/thumbs/100x100/https://treenation-uploads.s3-accelerate.amazonaws.com/"+a.image.slice(1)),o=ajax_url+"/thumbs/"+n+"/https://treenation-uploads.s3-accelerate.amazonaws.com/"+a.image);var p="";if("affiliated"==a.status){var i=a.billings.species_price_from;-1!=i.toString().indexOf(".")&&(i=i.toFixed(2).replace(/\./g,",")),p='<a href="'+ajax_url+"/plant/"+a.id+'" class="btn btn-green">'+trans_jquery("projects.plant_from")+" <span>"+i+"</span>€</a>"}var c="";if(a.trees_planted_or_funded){var m=a.created_at;if(m=(m=m.split("-"))[0],"affiliated"==a.status||"closed"==a.status)var g=trans_jquery("projects.trees_funded_since");else g=trans_jquery("projects.trees_planted_since");c="<span>"+a.trees_planted_or_funded+"</span> "+g+" "+m+"</span>"}t.push({lat:parseFloat(a.lat),lng:parseFloat(a.long),title:a.name,icon:e,infoWindow:{content:'<table class="table project-prev-map"><tbody><tr><td><a href="'+ajax_url+"/projects/"+a.slug+'/updates"><img src="'+o+'" class="img-responsive"></a></td><td><h4><a href="'+ajax_url+"/projects/"+a.slug+'/updates">'+a.name+'</a></h4><div class="rating-stars">'+s+'</div><p class="mt-1">'+c+"</p><div>"+p+"</td></tr></tbody></table>"}})}})),a.addMarkers(t)},impactMap:function(a){if("undefined"==typeof map)map=new GMaps({div:".map-hero",scrollwheel:!1,zoom:2,lat:25.464283,lng:.8129347,minZoom:2});else{for(var t=0;t<map.markers.length;t++)map.markers[t].setMap(null);map.markers=[]}var e=[];_.each(map_projects[a],(function(a){if(null!=a.lat&&null!=a.long){if("affiliated"==a.status)var t="/images/icons/map-marker-2.svg";else t="/images/icons/map-marker-1.svg";for(var s="",r=0;r<5;r++){var l=r<5-a.rating&&r+.5>5-a.rating;s+='<span class="fas fa-star star '+(r>=5-a.rating||l?"active":"")+" "+(l?"fa-star-half-alt":"")+'">'}var o="#",n="100x100";a.image&&("/"!=a.image.slice(0,1)&&"\\"!=a.image.slice(0,1)||(o="/thumbs/100x100/https://treenation-uploads.s3-accelerate.amazonaws.com/"+a.image.slice(1)),o=ajax_url+"/thumbs/"+n+"/https://treenation-uploads.s3-accelerate.amazonaws.com/"+a.image);var p="";if("affiliated"==a.status){var i=null==a.billings?"":a.billings.species_price_from;-1!=i.toString().indexOf(".")&&(i=i.toFixed(2).replace(/\./g,",")),p='<a href="'+ajax_url+"/plant/"+a.id+'" class="btn btn-green">'+trans_jquery("projects.plant_from")+" <span>"+i+"</span>€</a>"}var c="<span>"+a.planted_count+"</span> "+trans_jquery("projects.trees_planted").toLowerCase()+"</span>";e.push({lat:parseFloat(a.lat),lng:parseFloat(a.long),title:a.name,icon:t,infoWindow:{content:'<table class="table project-prev-map text-left"><tbody><tr><td><a href="'+ajax_url+"/projects/"+a.slug+'/updates"><img src="'+o+'" class="img-responsive"></a></td><td><h4><a href="'+ajax_url+"/projects/"+a.slug+'/updates">'+a.name+'</a></h4><div class="rating-stars">'+s+'</div><p class="mt-2">'+c+"</p><div>"+p+"</td></tr></tbody></table>"}})}})),map.addMarkers(e)}};