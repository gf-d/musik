var vue=new BaseVue({el:"#vueApp",mixins:[commentMixin],data:{trees:[],profile:profile,description:"",all_tree_count:all_tree_count,color:"",color_number:"",user_progress:"",next_color:"",tree_count:"",page:1,lastPage:null,message:"",link:"",class_extend:"",image:{file:"",name:""},imageUploaded:!1,filter_value:"all_trees",tree:tree,contribution_confirmation:!1},created:function(){this.loading=!0,this.getTrees(this.filter_value),this.emptyDescription(this.profile),this.navbarColor(),""!=this.tree&&this.showModal(this.tree)},methods:{getTrees:function(e){this.loading=!0,refreshMasonry(),this.$http.post(ajax_url+"/profile/getProfileTrees?page=1",{id:this.profile.id,filter:e}).then((function(t){this.trees=t.data.trees,this.page=2,this.lastPage=t.data.lastPage,this.tree_count=t.data.tree_count,this.filter_value=e,this.loading=!1,refreshMasonry(),this.after()})).finally((function(){$((function(){$('[data-toggle="tooltip"]').tooltip()}))}))},moreTrees:function(){this.sendingMore||(this.sendingMore=!0,this.$http.post(ajax_url+"/profile/getProfileTrees?page="+this.page,{id:this.profile.id,filter:this.filter_value}).then((function(e){var t=e.data;this.trees=this.trees.concat(t.trees),this.page++,refreshMasonry(),this.after()})).finally((function(){this.sendingMore=!1,$((function(){$('[data-toggle="tooltip"]').tooltip()}))})))},uploadImage:function(){$("#upload").trigger("click")},createImage:function(e){new Image;var t=new FileReader,i=this;t.onload=function(t){Vue.set(i.image,"file",t.target.result),i.image.name=e.name,refreshMasonry()},t.readAsDataURL(e),this.imageUploaded=!0},togglePinnedTree:function(e){this.$http.post(ajax_url+"/profile/togglePinnedTree",{id:this.profile.id,tree_id:e.id}).then((function(t){t.data.success&&(e.is_pinned=!e.is_pinned,e.is_pinned?notificationCenter(this.trans("trees.pinned_tree_alert"),"notice",!1):notificationCenter(this.trans("trees.unpinned_tree_alert"),"notice",!1),Vue.nextTick((function(){$('[data-toggle="tooltip"]').tooltip()})))}))}}});