var vue=new BaseVue({el:"#vueApp",mixins:[commentMixin],data:{trees:[],profile:profile,description:"",sponsor_specie:"",sponsor:"",seed_count:seed_count,page:1,lastPage:null,details:"",editTree:!1,message:"",link:"",class_extend:"",filter_value:"all_seeds",all_tree_count:all_tree_count,color:"",color_number:"",tree:tree,user_progress:"",next_color:"",drops:"",weather:[5,5,5,5,5],weatherDescriptions:[],drought:"",wdrops_conv_obj:wdrops_conv_obj},created:function(){this.loading=!0,this.getSeeds(this.filter_value),this.emptyDescription(this.profile),null==this.seed_count&&(this.seed_count=0),this.navbarColor(),this.userDrops(),this.getWeather(),this.getWeatherDescriptions()},methods:{userDrops:function(){this.drops=this.user?this.user.drops:0},getSeeds:function(e){this.loading=!0,refreshMasonry(),this.$http.post(ajax_url+"/profile/getProfileSeeds?page=1",{id:this.profile.id,filter:e}).then((function(t){this.trees=t.data.trees,t.data.sponsor&&(this.sponsor=t.data.sponsor.user,this.sponsor_specie=t.data.sponsor.specie),this.filter_value=e,this.page=2,this.lastPage=t.data.lastPage,this.seed_count=t.data.seed_count,this.loading=!1,refreshMasonry(),""!=this.tree&&(this.showModal(this.tree),Vue.nextTick((function(){autosize($("#seed-modal .post-comment textarea"))}))),this.after()}))},moreSeeds:function(){this.sendingMore||(this.sendingMore=!0,this.$http.post(ajax_url+"/profile/getProfileSeeds?page="+this.page,{id:this.profile.id,filter:this.filet_value}).then((function(e){var t=e.data;this.trees=this.trees.concat(t.trees),this.page++,refreshMasonry(),this.after()})).finally((function(){this.sendingMore=!1})))},getWeather:function(){this.$http.post(ajax_url+"/seeds/getWeather").then((function(e){this.weather=e.data.weather,this.drought=e.data.drought,Vue.nextTick((function(){loadWeatherIcons()}))}))},getWeatherDescriptions:function(){this.$http.post(ajax_url+"/seeds/getWeatherDescriptions").then((function(e){this.weatherDescriptions=e.data}))},descrLengthAuthor:function(e){return e.owner.last_name.length>20?e.owner.last_name.slice(0,17)+"...":e.owner.last_name},uploadImage:function(){$("#upload").trigger("click")},createImage:function(e){new Image;var t=new FileReader,s=this;t.onload=function(t){Vue.set(s.image,"file",t.target.result),s.image.name=e.name,refreshMasonry()},t.readAsDataURL(e),this.imageUploaded=!0}}});